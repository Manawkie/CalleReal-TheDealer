[gd_scene load_steps=16 format=3 uid="uid://cqmvhgh2txn46"]

[ext_resource type="Script" path="res://scenes/scripts/cambase.gd" id="1_b6n1y"]
[ext_resource type="Script" path="res://scenes/scripts/world.gd" id="1_nha10"]
[ext_resource type="MeshLibrary" uid="uid://d3gu1liwvl5pa" path="res://assets/tiles.tres" id="2_55ebp"]
[ext_resource type="PackedScene" uid="uid://cmfgbnbxyv478" path="res://scenes/upgrades.tscn" id="2_bl0bm"]
[ext_resource type="PackedScene" uid="uid://cfuhcr5yy0rab" path="res://scenes/main_ui.tscn" id="2_vmvnb"]
[ext_resource type="PackedScene" uid="uid://dattmmpua3tgk" path="res://scenes/tutorial.tscn" id="5_3v7ke"]
[ext_resource type="Script" path="res://assets/spawns/spawn_handler.gd" id="6_ltrxf"]
[ext_resource type="PackedScene" uid="uid://dj43eirelpb0x" path="res://components/spawners/event_spawner.tscn" id="6_y2r8s"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_fcx2o"]
sky_top_color = Color(0.615686, 0.392157, 0, 1)
sky_horizon_color = Color(0.552941, 0.458824, 0.403922, 1)
ground_bottom_color = Color(0.0862745, 0.388235, 0.533333, 1)
ground_horizon_color = Color(0.392157, 0.701961, 0.839216, 1)

[sub_resource type="Sky" id="Sky_87x4u"]
sky_material = SubResource("ProceduralSkyMaterial_fcx2o")

[sub_resource type="Environment" id="Environment_5wj1s"]
background_mode = 2
sky = SubResource("Sky_87x4u")

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_7rd7b"]
dof_blur_far_enabled = true
dof_blur_amount = 0.0

[sub_resource type="Shader" id="Shader_njek0"]
code = "// Wind Waker style water - NekotoArts
// Adapted from https://www.shadertoy.com/view/3tKBDz
// After which I added in some fractal Brownian motion
// as well as vertex displacement

shader_type spatial;

uniform vec4 WATER_COL  =  vec4(0.04, 0.38, 0.88, 1.0);
uniform vec4 WATER2_COL  =  vec4(0.04, 0.35, 0.78, 1.0);
uniform vec4 FOAM_COL  = vec4(0.8125, 0.9609, 0.9648, 1.0);
uniform float distortion_speed = 2.0;
uniform vec2 tile = vec2(5.0, 5.0);
uniform float height = 2.0;
uniform vec2 wave_size = vec2(2.0, 2.0);
uniform float wave_speed = 1.5;

const float M_2PI = 6.283185307;
const float M_6PI = 18.84955592;

float random(vec2 uv) {
    return fract(sin(dot(uv.xy,
        vec2(12.9898,78.233))) *
            43758.5453123);
}

float noise(vec2 uv) {
    vec2 uv_index = floor(uv);
    vec2 uv_fract = fract(uv);

    // Four corners in 2D of a tile
    float a = random(uv_index);
    float b = random(uv_index + vec2(1.0, 0.0));
    float c = random(uv_index + vec2(0.0, 1.0));
    float d = random(uv_index + vec2(1.0, 1.0));

    vec2 blur = smoothstep(0.0, 1.0, uv_fract);

    return mix(a, b, blur.x) +
            (c - a) * blur.y * (1.0 - blur.x) +
            (d - b) * blur.x * blur.y;
}

float fbm(vec2 uv) {
    int octaves = 6;
    float amplitude = 0.5;
    float frequency = 3.0;
	float value = 0.0;

    for(int i = 0; i < octaves; i++) {
        value += amplitude * noise(frequency * uv);
        amplitude *= 0.5;
        frequency *= 2.0;
    }
    return value;
}

float circ(vec2 pos, vec2 c, float s)
{
    c = abs(pos - c);
    c = min(c, 1.0 - c);

    return smoothstep(0.0, 0.002, sqrt(s) - sqrt(dot(c, c))) * -1.0;
}

// Foam pattern for the water constructed out of a series of circles
float waterlayer(vec2 uv)
{
    uv = mod(uv, 1.0); // Clamp to [0..1]

    float ret = 1.0;
    ret += circ(uv, vec2(0.37378, 0.277169), 0.0268181);
    ret += circ(uv, vec2(0.0317477, 0.540372), 0.0193742);
    ret += circ(uv, vec2(0.430044, 0.882218), 0.0232337);
    ret += circ(uv, vec2(0.641033, 0.695106), 0.0117864);
    ret += circ(uv, vec2(0.0146398, 0.0791346), 0.0299458);
    ret += circ(uv, vec2(0.43871, 0.394445), 0.0289087);
    ret += circ(uv, vec2(0.909446, 0.878141), 0.028466);
    ret += circ(uv, vec2(0.310149, 0.686637), 0.0128496);
    ret += circ(uv, vec2(0.928617, 0.195986), 0.0152041);
    ret += circ(uv, vec2(0.0438506, 0.868153), 0.0268601);
    ret += circ(uv, vec2(0.308619, 0.194937), 0.00806102);
    ret += circ(uv, vec2(0.349922, 0.449714), 0.00928667);
    ret += circ(uv, vec2(0.0449556, 0.953415), 0.023126);
    ret += circ(uv, vec2(0.117761, 0.503309), 0.0151272);
    ret += circ(uv, vec2(0.563517, 0.244991), 0.0292322);
    ret += circ(uv, vec2(0.566936, 0.954457), 0.00981141);
    ret += circ(uv, vec2(0.0489944, 0.200931), 0.0178746);
    ret += circ(uv, vec2(0.569297, 0.624893), 0.0132408);
    ret += circ(uv, vec2(0.298347, 0.710972), 0.0114426);
    ret += circ(uv, vec2(0.878141, 0.771279), 0.00322719);
    ret += circ(uv, vec2(0.150995, 0.376221), 0.00216157);
    ret += circ(uv, vec2(0.119673, 0.541984), 0.0124621);
    ret += circ(uv, vec2(0.629598, 0.295629), 0.0198736);
    ret += circ(uv, vec2(0.334357, 0.266278), 0.0187145);
    ret += circ(uv, vec2(0.918044, 0.968163), 0.0182928);
    ret += circ(uv, vec2(0.965445, 0.505026), 0.006348);
    ret += circ(uv, vec2(0.514847, 0.865444), 0.00623523);
    ret += circ(uv, vec2(0.710575, 0.0415131), 0.00322689);
    ret += circ(uv, vec2(0.71403, 0.576945), 0.0215641);
    ret += circ(uv, vec2(0.748873, 0.413325), 0.0110795);
    ret += circ(uv, vec2(0.0623365, 0.896713), 0.0236203);
    ret += circ(uv, vec2(0.980482, 0.473849), 0.00573439);
    ret += circ(uv, vec2(0.647463, 0.654349), 0.0188713);
    ret += circ(uv, vec2(0.651406, 0.981297), 0.00710875);
    ret += circ(uv, vec2(0.428928, 0.382426), 0.0298806);
    ret += circ(uv, vec2(0.811545, 0.62568), 0.00265539);
    ret += circ(uv, vec2(0.400787, 0.74162), 0.00486609);
    ret += circ(uv, vec2(0.331283, 0.418536), 0.00598028);
    ret += circ(uv, vec2(0.894762, 0.0657997), 0.00760375);
    ret += circ(uv, vec2(0.525104, 0.572233), 0.0141796);
    ret += circ(uv, vec2(0.431526, 0.911372), 0.0213234);
    ret += circ(uv, vec2(0.658212, 0.910553), 0.000741023);
    ret += circ(uv, vec2(0.514523, 0.243263), 0.0270685);
    ret += circ(uv, vec2(0.0249494, 0.252872), 0.00876653);
    ret += circ(uv, vec2(0.502214, 0.47269), 0.0234534);
    ret += circ(uv, vec2(0.693271, 0.431469), 0.0246533);
    ret += circ(uv, vec2(0.415, 0.884418), 0.0271696);
    ret += circ(uv, vec2(0.149073, 0.41204), 0.00497198);
    ret += circ(uv, vec2(0.533816, 0.897634), 0.00650833);
    ret += circ(uv, vec2(0.0409132, 0.83406), 0.0191398);
    ret += circ(uv, vec2(0.638585, 0.646019), 0.0206129);
    ret += circ(uv, vec2(0.660342, 0.966541), 0.0053511);
    ret += circ(uv, vec2(0.513783, 0.142233), 0.00471653);
    ret += circ(uv, vec2(0.124305, 0.644263), 0.00116724);
    ret += circ(uv, vec2(0.99871, 0.583864), 0.0107329);
    ret += circ(uv, vec2(0.894879, 0.233289), 0.00667092);
    ret += circ(uv, vec2(0.246286, 0.682766), 0.00411623);
    ret += circ(uv, vec2(0.0761895, 0.16327), 0.0145935);
    ret += circ(uv, vec2(0.949386, 0.802936), 0.0100873);
    ret += circ(uv, vec2(0.480122, 0.196554), 0.0110185);
    ret += circ(uv, vec2(0.896854, 0.803707), 0.013969);
    ret += circ(uv, vec2(0.292865, 0.762973), 0.00566413);
    ret += circ(uv, vec2(0.0995585, 0.117457), 0.00869407);
    ret += circ(uv, vec2(0.377713, 0.00335442), 0.0063147);
    ret += circ(uv, vec2(0.506365, 0.531118), 0.0144016);
    ret += circ(uv, vec2(0.408806, 0.894771), 0.0243923);
    ret += circ(uv, vec2(0.143579, 0.85138), 0.00418529);
    ret += circ(uv, vec2(0.0902811, 0.181775), 0.0108896);
    ret += circ(uv, vec2(0.780695, 0.394644), 0.00475475);
    ret += circ(uv, vec2(0.298036, 0.625531), 0.00325285);
    ret += circ(uv, vec2(0.218423, 0.714537), 0.00157212);
    ret += circ(uv, vec2(0.658836, 0.159556), 0.00225897);
    ret += circ(uv, vec2(0.987324, 0.146545), 0.0288391);
    ret += circ(uv, vec2(0.222646, 0.251694), 0.00092276);
    ret += circ(uv, vec2(0.159826, 0.528063), 0.00605293);
	return max(ret, 0.0);
}

// Procedural texture generation for the water
vec3 water(vec2 uv, vec3 cdir, float iTime)
{
    uv *= vec2(0.25);
	uv += fbm(uv) * 0.2;

    // Parallax height distortion with two directional waves at
    // slightly different angles.
    vec2 a = 0.025 * cdir.xz / cdir.y; // Parallax offset
    float h = sin(uv.x + iTime); // Height at UV
    uv += a * h;
    h = sin(0.841471 * uv.x - 0.540302 * uv.y + iTime);
    uv += a * h;

    // Texture distortion
    float d1 = mod(uv.x + uv.y, M_2PI);
    float d2 = mod((uv.x + uv.y + 0.25) * 1.3, M_6PI);
    d1 = iTime * 0.07 + d1;
    d2 = iTime * 0.5 + d2;
    vec2 dist = vec2(
    	sin(d1) * 0.15 + sin(d2) * 0.05,
    	cos(d1) * 0.15 + cos(d2) * 0.05
    );

    vec3 ret = mix(WATER_COL.rgb, WATER2_COL.rgb, waterlayer(uv + dist.xy));
    ret = mix(ret, FOAM_COL.rgb, waterlayer(vec2(1.0) - uv - dist.yx));
    return ret;
}


void vertex(){
	float time = TIME * wave_speed;
	vec2 uv = UV * wave_size;
	float d1 = mod(uv.x + uv.y, M_2PI);
    float d2 = mod((uv.x + uv.y + 0.25) * 1.3, M_6PI);
    d1 = time * 0.07 + d1;
    d2 = time * 0.5 + d2;
    vec2 dist = vec2(
    	sin(d1) * 0.15 + sin(d2) * 0.05,
    	cos(d1) * 0.15 + cos(d2) * 0.05
    );
	VERTEX.y += dist.y * height;
}

void fragment()
{
	vec2 uv = UV;

    ALBEDO = vec3(water(uv * tile, vec3(0,1,0), TIME * distortion_speed));
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_g2rld"]
render_priority = 0
shader = SubResource("Shader_njek0")
shader_parameter/WATER_COL = Vector4(0.04, 0.38, 0.88, 1)
shader_parameter/WATER2_COL = Vector4(0.04, 0.35, 0.78, 1)
shader_parameter/FOAM_COL = Vector4(0.8125, 0.9609, 0.9648, 1)
shader_parameter/distortion_speed = 2.0
shader_parameter/tile = Vector2(128, 128)
shader_parameter/height = 10.0
shader_parameter/wave_size = Vector2(2, 2)
shader_parameter/wave_speed = 3.755

[sub_resource type="PlaneMesh" id="PlaneMesh_hvbwk"]
lightmap_size_hint = Vector2i(15002, 15002)
material = SubResource("ShaderMaterial_g2rld")
size = Vector2(3000, 3000)
subdivide_width = 16
subdivide_depth = 16

[node name="World" type="Node3D"]
script = ExtResource("1_nha10")

[node name="Upgrades" parent="." instance=ExtResource("2_bl0bm")]
visible = false

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("2_55ebp")
cell_size = Vector3(4, 5.25, 4)
cell_octant_size = 4
cell_scale = 5.3
data = {
"cells": PackedInt32Array(10, 0, 41, 65517, 15, 41, 65516, 15, 41, 65516, 14, 6, 65516, 16, 41, 65517, 16, 41, 65518, 15, 41, 65519, 15, 41, 65519, 16, 41, 65519, 17, 41, 65519, 18, 41, 65519, 19, 41, 65520, 19, 41, 65520, 18, 41, 65520, 17, 41, 65520, 16, 41, 65518, 16, 41, 65517, 14, 41, 65518, 14, 41, 65519, 14, 41, 65520, 14, 41, 65520, 15, 41, 65521, 15, 41, 65521, 16, 41, 65521, 14, 41, 65521, 13, 41, 65521, 12, 41, 65520, 13, 41, 65519, 13, 41, 65519, 12, 6, 65520, 12, 41, 65522, 13, 41, 65522, 12, 41, 65523, 13, 41, 65523, 12, 41, 65523, 11, 41, 65522, 14, 41, 65523, 14, 41, 65524, 14, 41, 65525, 13, 41, 65526, 13, 41, 65527, 13, 41, 65527, 14, 41, 65526, 14, 41, 65525, 14, 41, 65524, 13, 41, 65528, 14, 41, 65529, 14, 41, 65530, 15, 41, 65529, 15, 41, 65531, 15, 41, 65532, 15, 41, 65532, 16, 41, 65533, 16, 41, 65534, 16, 41, 65535, 16, 41, 0, 16, 41, 1, 16, 41, 2, 16, 41, 3, 15, 41, 4, 15, 41, 4, 16, 41, 5, 16, 41, 6, 16, 41, 7, 16, 41, 7, 17, 41, 8, 17, 41, 9, 17, 41, 9, 18, 41, 10, 18, 41, 11, 18, 41, 11, 19, 41, 12, 19, 41, 13, 19, 41, 13, 18, 41, 14, 17, 41, 15, 17, 41, 15, 18, 41, 16, 18, 41, 17, 18, 41, 17, 19, 41, 18, 19, 41, 18, 20, 41, 19, 20, 41, 20, 20, 41, 21, 20, 41, 21, 19, 41, 20, 19, 41, 20, 18, 41, 20, 17, 41, 19, 17, 41, 19, 16, 41, 18, 16, 41, 18, 15, 41, 17, 15, 41, 16, 15, 41, 16, 14, 41, 15, 14, 41, 15, 13, 41, 15, 12, 41, 15, 11, 41, 15, 10, 41, 14, 10, 41, 14, 9, 41, 14, 8, 41, 14, 7, 41, 14, 6, 41, 14, 5, 41, 14, 4, 41, 14, 3, 41, 14, 2, 41, 14, 1, 41, 14, 0, 41, 13, 0, 41, 13, 65535, 41, 12, 65535, 41, 12, 65534, 41, 12, 65533, 41, 11, 65533, 41, 10, 65533, 41, 10, 65532, 41, 10, 65531, 41, 10, 65530, 41, 10, 65529, 41, 10, 65528, 41, 10, 65527, 41, 9, 65527, 41, 8, 65527, 41, 7, 65527, 41, 6, 65527, 41, 5, 65527, 41, 4, 65527, 41, 6, 65526, 41, 5, 65526, 41, 5, 65525, 41, 4, 65525, 41, 6, 65525, 41, 7, 65526, 41, 7, 65528, 41, 4, 65524, 41, 3, 65524, 41, 2, 65524, 41, 1, 65524, 41, 1, 65523, 41, 0, 65523, 41, 0, 65522, 41, 0, 65521, 41, 0, 65520, 41, 0, 65519, 41, 65535, 65519, 41, 65535, 65518, 41, 65534, 65518, 41, 65534, 65517, 41, 65533, 65517, 41, 65533, 65516, 41, 65532, 65516, 41, 65531, 65516, 41, 65531, 65515, 41, 65530, 65515, 41, 65529, 65515, 41, 65528, 65515, 41, 65527, 65515, 41, 65527, 65516, 41, 65526, 65516, 41, 65525, 65516, 41, 65524, 65516, 41, 65521, 4, 41, 65521, 5, 41, 65521, 6, 41, 65521, 7, 41, 65521, 8, 41, 65521, 9, 41, 65521, 10, 41, 65520, 10, 6, 65520, 11, 41, 65518, 13, 6, 65522, 6, 41, 65522, 5, 41, 65522, 4, 41, 65522, 3, 41, 65523, 5, 41, 65523, 6, 41, 65524, 5, 41, 65524, 4, 41, 65523, 4, 41, 65523, 3, 41, 65522, 2, 41, 65522, 1, 41, 65523, 1, 41, 65523, 0, 41, 65523, 65535, 41, 65524, 65535, 41, 65524, 65534, 41, 65524, 65533, 41, 65525, 65533, 41, 65525, 65532, 41, 65525, 65531, 41, 65525, 65530, 41, 65525, 65529, 41, 65525, 65528, 41, 65524, 65527, 41, 65524, 65526, 41, 65524, 65525, 41, 65524, 65531, 41, 65524, 65530, 41, 65524, 65529, 41, 65523, 65529, 41, 65523, 65528, 41, 65523, 65527, 41, 65523, 65526, 41, 65523, 65525, 41, 65525, 65523, 41, 65526, 65522, 41, 65524, 65524, 41, 65525, 65524, 41, 65525, 65522, 41, 65526, 65521, 41, 65527, 65521, 41, 65527, 65520, 41, 65527, 65519, 41, 65526, 65519, 41, 65526, 65518, 41, 65526, 65517, 41, 65525, 65517, 41, 11, 65522, 41, 12, 65522, 41, 12, 65523, 41, 13, 65523, 41, 13, 65524, 41, 13, 65525, 41, 14, 65525, 41, 14, 65526, 41, 14, 65527, 41, 15, 65527, 41, 15, 65528, 41, 16, 65528, 41, 17, 65528, 41, 17, 65529, 41, 18, 65529, 41, 19, 65529, 41, 20, 65529, 41, 20, 65528, 41, 21, 65528, 41, 21, 65527, 41, 21, 65526, 41, 21, 65525, 41, 21, 65524, 41, 20, 65524, 41, 20, 65523, 41, 20, 65522, 41, 19, 65522, 41, 19, 65521, 41, 18, 65521, 41, 18, 65520, 41, 17, 65520, 41, 17, 65519, 41, 16, 65519, 41, 16, 65518, 41, 15, 65518, 41, 14, 65518, 41, 13, 65518, 41, 12, 65518, 41, 12, 65519, 41, 11, 65519, 41, 11, 65520, 41, 12, 65521, 41, 13, 65521, 41, 13, 65522, 41, 14, 65523, 41, 15, 65523, 41, 14, 65522, 41, 12, 65520, 41, 14, 65524, 41, 15, 65525, 41, 15, 65526, 41, 16, 65526, 41, 15, 65524, 41, 16, 65525, 41, 16, 65524, 41, 16, 65523, 41, 16, 65522, 41, 16, 65521, 41, 16, 65520, 41, 15, 65519, 41, 15, 65520, 41, 14, 65520, 41, 14, 65521, 41, 17, 65526, 41, 18, 65526, 41, 18, 65525, 41, 17, 65525, 41, 17, 65524, 41, 18, 65527, 41, 19, 65527, 41, 19, 65526, 41, 18, 65524, 41, 20, 65526, 41, 19, 65525, 41, 18, 65528, 41, 19, 65528, 41, 20, 65527, 41, 20, 65525, 41, 19, 65524, 41, 19, 65523, 41, 18, 65523, 41, 18, 65522, 41, 17, 65522, 41, 17, 65521, 41, 15, 65521, 41, 13, 65519, 41, 13, 65520, 41, 15, 65522, 41, 14, 65519, 41, 17, 65523, 41, 65521, 11, 41, 65522, 11, 41, 65522, 10, 41, 65523, 9, 41, 65523, 8, 41, 65524, 8, 41, 65524, 7, 41, 65525, 6, 41, 65524, 6, 41, 65524, 11, 41, 65524, 10, 41, 65525, 9, 41, 65525, 8, 41, 65525, 7, 41, 65526, 7, 41, 65526, 6, 41, 65525, 5, 41, 65523, 7, 41, 65523, 10, 41, 65524, 9, 41, 65526, 5, 41, 65522, 7, 41, 65522, 8, 41, 65525, 11, 41, 65525, 10, 41, 65522, 9, 41, 65526, 11, 41, 65527, 11, 41, 65528, 11, 41, 65528, 10, 41, 65527, 10, 41, 65527, 9, 41, 65526, 9, 41, 65527, 12, 41, 65528, 12, 41, 65529, 12, 41, 65530, 13, 41, 65531, 13, 41, 65531, 12, 41, 65530, 12, 41, 65529, 11, 41, 65525, 12, 41, 65528, 13, 41, 65530, 14, 41, 65531, 14, 41, 65524, 12, 41, 65526, 12, 41, 65532, 12, 41, 65533, 13, 41, 65534, 12, 41, 65535, 12, 41, 65533, 12, 41, 65529, 13, 41, 65532, 13, 41, 65533, 14, 41, 65534, 14, 41, 65535, 14, 41, 0, 14, 41, 1, 15, 41, 2, 15, 41, 3, 14, 41, 2, 14, 41, 1, 14, 41, 0, 13, 41, 65535, 13, 41, 65530, 11, 41, 65531, 11, 41, 0, 12, 41, 1, 13, 41, 2, 13, 41, 4, 13, 41, 3, 13, 41, 2, 12, 41, 1, 12, 41, 0, 11, 41, 65535, 11, 41, 65533, 11, 41, 65532, 11, 41, 65534, 13, 41, 65535, 15, 41, 65534, 15, 41, 65533, 15, 41, 0, 15, 41, 5, 14, 41, 65535, 10, 41, 65534, 9, 41, 65533, 8, 41, 65532, 8, 41, 65531, 7, 41, 65530, 6, 41, 65530, 7, 41, 65531, 8, 41, 65532, 9, 41, 65533, 9, 41, 65533, 10, 41, 65534, 10, 41, 65534, 11, 41, 65532, 10, 41, 65531, 10, 41, 65530, 10, 41, 65532, 14, 41, 65530, 9, 41, 65530, 8, 41, 65529, 8, 41, 65529, 7, 41, 65529, 6, 41, 65528, 6, 41, 65527, 6, 41, 65527, 5, 41, 65527, 7, 41, 65527, 8, 41, 65528, 8, 41, 65528, 9, 41, 65529, 9, 41, 65529, 10, 41, 65526, 8, 41, 65531, 9, 41, 65528, 7, 41, 6, 14, 41, 5, 13, 41, 4, 12, 41, 3, 12, 41, 2, 11, 41, 1, 10, 41, 0, 10, 41, 65535, 9, 41, 3, 11, 41, 5, 12, 41, 6, 13, 41, 6, 12, 41, 4, 11, 41, 1, 11, 41, 7, 14, 41, 7, 15, 41, 8, 15, 41, 8, 14, 41, 7, 13, 41, 2, 10, 41, 2, 9, 41, 2, 8, 41, 2, 7, 41, 1, 7, 41, 3, 9, 41, 3, 10, 41, 5, 11, 41, 6, 11, 41, 7, 12, 41, 8, 13, 41, 9, 15, 41, 10, 16, 41, 8, 16, 41, 9, 16, 41, 11, 17, 41, 12, 17, 41, 11, 16, 41, 10, 17, 41, 12, 18, 41, 13, 17, 41, 6, 15, 41, 5, 15, 41, 12, 16, 41, 16, 17, 41, 17, 17, 41, 18, 17, 41, 18, 18, 41, 19, 18, 41, 17, 16, 41, 16, 16, 41, 15, 16, 41, 14, 16, 41, 19, 19, 41, 14, 15, 41, 13, 15, 41, 12, 15, 41, 12, 14, 41, 11, 14, 41, 10, 14, 41, 9, 14, 41, 11, 15, 41, 10, 15, 41, 13, 16, 41, 15, 15, 41, 13, 14, 41, 14, 14, 41, 14, 13, 41, 13, 13, 41, 12, 13, 41, 11, 12, 41, 10, 12, 41, 9, 12, 41, 11, 13, 41, 10, 13, 41, 9, 13, 41, 8, 12, 41, 12, 12, 41, 12, 11, 41, 11, 11, 41, 10, 11, 41, 10, 10, 41, 9, 10, 41, 9, 9, 41, 8, 9, 41, 7, 9, 41, 7, 10, 41, 8, 10, 41, 9, 11, 41, 13, 12, 41, 13, 11, 41, 14, 11, 41, 14, 12, 41, 11, 10, 41, 8, 11, 41, 6, 9, 41, 5, 9, 41, 5, 10, 41, 6, 10, 41, 7, 11, 41, 10, 9, 41, 9, 8, 41, 8, 8, 41, 12, 10, 41, 13, 10, 41, 13, 9, 41, 13, 8, 41, 13, 7, 41, 13, 6, 41, 13, 5, 41, 13, 4, 41, 13, 3, 41, 13, 2, 41, 13, 1, 41, 12, 1, 41, 12, 2, 41, 12, 3, 41, 12, 4, 41, 12, 5, 41, 12, 6, 41, 12, 7, 41, 12, 8, 41, 11, 3, 41, 11, 4, 41, 11, 5, 41, 11, 6, 41, 11, 7, 41, 11, 8, 41, 11, 9, 41, 11, 1, 41, 11, 2, 41, 10, 4, 41, 10, 3, 41, 10, 2, 41, 9, 2, 41, 8, 2, 41, 8, 3, 41, 8, 4, 41, 8, 5, 41, 8, 6, 41, 8, 7, 41, 10, 6, 41, 10, 5, 41, 9, 5, 41, 7, 5, 41, 7, 6, 41, 6, 6, 41, 6, 7, 41, 7, 7, 41, 7, 8, 41, 6, 5, 41, 5, 5, 41, 4, 5, 41, 4, 6, 41, 4, 7, 41, 5, 8, 41, 4, 8, 41, 3, 8, 41, 1, 8, 41, 0, 8, 41, 65535, 8, 41, 0, 9, 41, 0, 7, 41, 65535, 7, 41, 65535, 6, 41, 65535, 5, 41, 65534, 6, 41, 65534, 7, 41, 65534, 8, 41, 65533, 7, 41, 65532, 7, 41, 65532, 6, 41, 65531, 5, 41, 65530, 4, 41, 65529, 3, 41, 65528, 3, 41, 65527, 3, 41, 65527, 4, 41, 65526, 4, 41, 65526, 3, 41, 65526, 2, 41, 65525, 2, 41, 65525, 3, 41, 65524, 3, 41, 65523, 2, 41, 65524, 0, 41, 65525, 0, 41, 65524, 2, 41, 65525, 4, 41, 65525, 1, 41, 65524, 1, 41, 65525, 65535, 41, 65525, 65534, 41, 65526, 65535, 41, 65526, 0, 41, 65526, 1, 41, 65527, 2, 41, 65527, 1, 41, 65527, 0, 41, 65527, 65535, 41, 65527, 65534, 41, 65528, 4, 41, 65528, 5, 41, 65529, 5, 41, 65529, 4, 41, 65529, 2, 41, 65529, 1, 41, 65529, 0, 41, 65528, 0, 41, 65528, 65535, 41, 65531, 4, 41, 65530, 3, 41, 65530, 5, 41, 65531, 6, 41, 65533, 6, 41, 65532, 5, 41, 0, 6, 41, 65534, 5, 41, 1, 9, 41, 4, 10, 41, 6, 8, 41, 5, 7, 41, 3, 4, 41, 5, 6, 41, 9, 6, 41, 10, 7, 41, 9, 7, 41, 10, 8, 41, 12, 9, 41, 4, 9, 41, 3, 7, 41, 2, 6, 41, 1, 5, 41, 1, 4, 41, 0, 3, 41, 65535, 3, 41, 65534, 1, 41, 65533, 0, 41, 65532, 65535, 41, 65532, 65534, 41, 65532, 65533, 41, 65531, 65532, 41, 65531, 65531, 41, 65531, 65530, 41, 65530, 65529, 41, 65529, 65529, 41, 65529, 65530, 41, 65528, 65531, 41, 65528, 65532, 41, 65527, 65533, 41, 65527, 65532, 41, 65527, 65531, 41, 65526, 65530, 41, 65526, 65529, 41, 65526, 65528, 41, 65526, 65531, 41, 65526, 65532, 41, 65526, 65533, 41, 65526, 65534, 41, 65526, 65527, 41, 65526, 65526, 41, 65526, 65525, 41, 65525, 65527, 41, 65525, 65526, 41, 65525, 65525, 41, 65526, 65524, 41, 65526, 65523, 41, 65527, 65523, 41, 65527, 65522, 41, 65528, 65522, 41, 65528, 65521, 41, 65528, 65520, 41, 65528, 65519, 41, 65528, 65518, 41, 65528, 65517, 41, 65527, 65517, 41, 65527, 65518, 41, 65528, 65523, 41, 65528, 65524, 41, 65528, 65525, 41, 65528, 65526, 41, 65528, 65527, 41, 65528, 65528, 41, 65528, 65529, 41, 65528, 65530, 41, 65528, 65533, 41, 65529, 65533, 41, 65529, 65532, 41, 65529, 65531, 41, 65528, 65534, 41, 65527, 65527, 41, 65527, 65528, 41, 65527, 65529, 41, 65527, 65530, 41, 65527, 65526, 41, 65527, 65525, 41, 65527, 65524, 41, 65529, 65535, 41, 65530, 65535, 41, 65531, 65535, 41, 65531, 65534, 41, 65531, 65533, 41, 65530, 65533, 41, 65530, 65532, 41, 65529, 65534, 41, 65530, 1, 41, 65530, 2, 41, 65531, 2, 41, 65531, 3, 41, 65532, 3, 41, 65532, 4, 41, 65533, 4, 41, 65534, 4, 41, 65533, 3, 41, 65533, 2, 41, 65532, 2, 41, 65532, 1, 41, 65531, 0, 41, 65530, 0, 41, 65531, 1, 41, 65533, 5, 41, 65534, 2, 41, 65533, 1, 41, 65532, 0, 41, 65535, 2, 41, 0, 4, 41, 2, 5, 41, 65530, 65534, 41, 65534, 3, 41, 65526, 10, 41, 65528, 2, 41, 65528, 1, 41, 2, 3, 41, 2, 2, 41, 1, 2, 41, 0, 1, 41, 65535, 1, 41, 65535, 4, 41, 3, 5, 41, 4, 4, 41, 2, 4, 41, 1, 3, 41, 3, 3, 41, 4, 3, 41, 5, 4, 41, 6, 4, 41, 7, 4, 41, 5, 3, 41, 3, 2, 41, 4, 2, 41, 6, 3, 41, 7, 3, 41, 9, 3, 41, 7, 2, 41, 65529, 65521, 41, 65529, 65522, 41, 65529, 65523, 41, 65529, 65524, 41, 65529, 65525, 41, 65529, 65526, 41, 65530, 65526, 41, 65530, 65527, 41, 65530, 65528, 41, 65531, 65528, 41, 65531, 65527, 41, 65530, 65525, 41, 65524, 65528, 41, 65530, 65530, 41, 65529, 65527, 41, 65529, 65528, 41, 65531, 65529, 41, 65530, 65531, 41, 65534, 0, 41, 65534, 65535, 41, 65534, 65534, 41, 65533, 65533, 41, 65533, 65532, 41, 65533, 65531, 41, 65533, 65530, 41, 65533, 65529, 41, 65532, 65529, 41, 65534, 65532, 41, 65534, 65533, 41, 65535, 65534, 41, 0, 65535, 41, 1, 65535, 41, 2, 65535, 41, 2, 65534, 41, 1, 65534, 41, 1, 65533, 41, 1, 65532, 41, 1, 65531, 41, 0, 65530, 41, 0, 65529, 41, 65535, 65529, 41, 65535, 65528, 41, 65535, 65527, 41, 65534, 65527, 41, 65534, 65528, 41, 65534, 65529, 41, 65534, 65530, 41, 65535, 65531, 41, 65535, 65532, 41, 0, 65533, 41, 0, 65534, 41, 2, 0, 41, 3, 0, 41, 4, 0, 41, 5, 0, 41, 5, 1, 41, 6, 0, 41, 5, 65535, 41, 5, 65534, 41, 4, 65534, 41, 4, 65533, 41, 3, 65532, 41, 3, 65531, 41, 2, 65531, 41, 1, 65530, 41, 0, 65531, 41, 0, 65532, 41, 3, 65534, 41, 3, 65535, 41, 4, 65535, 41, 65535, 65533, 41, 65535, 65535, 41, 0, 0, 41, 1, 0, 41, 1, 1, 41, 2, 1, 41, 3, 1, 41, 65535, 0, 41, 0, 2, 41, 65532, 65531, 41, 65533, 65534, 41, 65532, 65532, 41, 65533, 65535, 41, 0, 5, 41, 6, 1, 41, 7, 1, 41, 8, 1, 41, 9, 1, 41, 10, 1, 41, 9, 0, 41, 8, 0, 41, 7, 65535, 41, 6, 65535, 41, 7, 0, 41, 5, 2, 41, 6, 2, 41, 9, 4, 41, 4, 1, 41, 3, 6, 41, 1, 6, 41, 9, 65535, 41, 8, 65534, 41, 8, 65533, 41, 8, 65532, 41, 8, 65531, 41, 7, 65531, 41, 9, 65533, 41, 9, 65532, 41, 10, 65534, 41, 11, 65534, 41, 10, 65535, 41, 11, 0, 41, 12, 0, 41, 11, 65535, 41, 7, 65532, 41, 7, 65533, 41, 7, 65534, 41, 6, 65532, 41, 6, 65531, 41, 9, 65534, 41, 9, 65531, 41, 9, 65530, 41, 9, 65529, 41, 9, 65528, 41, 9, 65526, 41, 8, 65526, 41, 8, 65528, 41, 8, 65529, 41, 7, 65529, 41, 8, 65530, 41, 6, 65528, 41, 6, 65529, 41, 7, 65530, 41, 5, 65528, 41, 4, 65528, 41, 4, 65529, 41, 4, 65530, 41, 5, 65531, 41, 5, 65532, 41, 6, 65533, 41, 4, 65531, 41, 3, 65530, 41, 4, 65532, 41, 5, 65533, 41, 6, 65534, 41, 2, 65530, 41, 2, 65532, 41, 2, 65533, 41, 3, 65533, 41, 1, 65529, 41, 65533, 65526, 41, 65534, 65526, 41, 0, 65528, 41, 65533, 65528, 41, 65535, 65530, 41, 65532, 65528, 41, 65532, 65530, 41, 65531, 65526, 41, 65531, 65525, 41, 65531, 65524, 41, 65530, 65523, 41, 65530, 65522, 41, 65530, 65521, 41, 65530, 65520, 41, 65530, 65524, 41, 65529, 65519, 41, 65529, 65518, 41, 65529, 65520, 41, 65528, 65516, 41, 65529, 65516, 41, 65529, 65517, 41, 65530, 65517, 41, 65530, 65518, 41, 65531, 65518, 41, 65531, 65519, 41, 65531, 65520, 41, 65531, 65521, 41, 65531, 65522, 41, 65530, 65519, 41, 65530, 65516, 41, 65531, 65517, 41, 65532, 65518, 41, 65532, 65519, 41, 65533, 65519, 41, 65534, 65519, 41, 65534, 65520, 41, 65533, 65518, 41, 65532, 65517, 41, 65533, 65520, 41, 65533, 65521, 41, 65533, 65522, 41, 65532, 65521, 41, 65531, 65523, 41, 65532, 65524, 41, 65532, 65525, 41, 65532, 65523, 41, 65532, 65522, 41, 65532, 65526, 41, 65532, 65527, 41, 65533, 65523, 41, 65534, 65523, 41, 65534, 65524, 41, 65535, 65524, 41, 65534, 65522, 41, 65535, 65525, 41, 65534, 65525, 41, 65535, 65526, 41, 65533, 65525, 41, 0, 65526, 41, 1, 65526, 41, 65533, 65524, 41, 1, 65527, 41, 2, 65528, 41, 2, 65527, 41, 1, 65525, 41, 2, 65526, 41, 3, 65526, 41, 3, 65528, 41, 3, 65529, 41, 3, 65527, 41, 3, 65525, 41, 2, 65525, 41, 5, 65529, 41, 5, 65530, 41, 6, 65530, 41, 65534, 65531, 41, 65533, 65527, 41, 1, 65528, 41, 0, 65527, 41, 2, 65529, 41, 0, 65525, 41, 0, 65524, 41, 4, 65526, 41, 65535, 65523, 41, 65535, 65522, 41, 65535, 65521, 41, 65534, 65521, 41, 65532, 65520, 41, 65535, 65520, 41, 17, 65527, 41, 8, 65535, 41, 16, 65527, 41, 15, 9, 41, 4, 14, 41, 131059, 8, 1048683, 131062, 11, 1048715, 131061, 10, 1048715, 131062, 9, 1048715, 131063, 10, 1048715, 131063, 9, 1048715, 131062, 8, 1048715, 131065, 65531, 1048715, 131065, 65530, 1048715, 131064, 65530, 1048715, 131064, 65528, 1048715, 131066, 65529, 1048715, 131067, 65531, 1048715, 65547, 14, 1048715, 65547, 13, 1048715, 65546, 13, 1048715, 65546, 12, 1048715, 65548, 12, 1048715, 65549, 13, 1048715, 65543, 65535, 1048715, 65541, 65534, 1048715, 65543, 65533, 1048715, 65543, 65534, 1048715, 65537, 8, 1048715, 65538, 8, 1048715, 65537, 6, 1048715, 131071, 8, 1048715, 131066, 65517, 1048715, 131066, 65518, 1048715, 131067, 65518, 1048715, 131067, 65517, 1048715, 131068, 65519, 1048715, 65552, 65522, 1048715, 65552, 65524, 1048715, 65553, 65525, 1048715, 65554, 65527, 1048715, 65556, 65524, 1048715, 65539, 65529, 1048709, 65538, 65529, 1048704, 65539, 65528, 1048704, 131060, 2, 1048704, 131061, 1, 1048704, 131060, 1, 1048709, 131059, 3, 1048709, 131062, 1, 1048709, 131061, 2, 1048706, 65544, 10, 1048670, 65543, 11, 1048670)
}
metadata/_editor_floor_ = Vector3(0, 12, 0)

[node name="MainUi" parent="." instance=ExtResource("2_vmvnb")]
offset_right = 11.0
offset_bottom = 14.0

[node name="environment" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="environment"]
environment = SubResource("Environment_5wj1s")
camera_attributes = SubResource("CameraAttributesPractical_7rd7b")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="environment"]
transform = Transform3D(1, 0, 0, 0, 0.907777, 0.419452, 0, -0.419452, 0.907777, 0, -1.02499, 0)
light_color = Color(0.992157, 0.960784, 0.686275, 1)
light_energy = 1.3
light_volumetric_fog_energy = 0.5
light_angular_distance = 2.0
shadow_enabled = true
shadow_normal_bias = 3.0
shadow_transmittance_bias = 0.0
shadow_opacity = 0.5

[node name="water" type="MeshInstance3D" parent="environment"]
mesh = SubResource("PlaneMesh_hvbwk")

[node name="camerabase" type="Node3D" parent="."]
transform = Transform3D(-4.37114e-08, -0.707106, 0.707107, 4.70735e-14, 0.707107, 0.707106, -1, 3.09086e-08, -3.09086e-08, 0, 0, 0)
script = ExtResource("1_b6n1y")

[node name="camera" type="Camera3D" parent="camerabase"]
transform = Transform3D(1, -3.19744e-14, 3.55271e-15, 7.10543e-15, 1, -9.55344e-16, 0, -9.55344e-16, 1, -1.99996, -44.5988, 126.052)

[node name="spawnHandler" type="Node3D" parent="."]
script = ExtResource("6_ltrxf")

[node name="EventSpawner" parent="spawnHandler" instance=ExtResource("6_y2r8s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12, 0)

[node name="Spawn_time" type="Timer" parent="spawnHandler"]
wait_time = 25.0

[node name="Scenes" type="Node2D" parent="."]

[node name="Tutorial" parent="Scenes" instance=ExtResource("5_3v7ke")]

[connection signal="timeout" from="spawnHandler/Spawn_time" to="spawnHandler" method="_on_spawn_time_timeout"]
